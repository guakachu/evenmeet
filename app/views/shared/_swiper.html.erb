<div class="swiper" data-controller="swipe coordinates">
  <div class="swiper__content">
    <div class="swiper__card-cont">
      <% participations.each do |participation| %>

        <div class="swiper__card"
            data-swipe-target="card"
            data-id="<%= participation.id %>">
          <%= link_to 'Profile', "#", class: 'profile-link hidden' %>
          <div class="swiper__card__content">

          <div class="swiper__card__content_top">
            <%# La partie du haut de la carte %>
          </div>

          <%# if user.photos.any?(&:attached?) %>
            <%#= cl_image_tag user.photos.first.key, class: 'swiper__card__img' %>
          <%# end %>

          <%=
            image_tag("https://images.unsplash.com/photo-1678153188688-0dc45722708a?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1470&q=80",
                      alt: "rss feed",
                      class: 'swiper__card__img')
          %>

          <div class="swiper__card__content_bottom">
            <p class="swiper__card__name">
              <strong><%= participation.user.first_name %></strong>, <span class="profile-age"><%= participation.user.last_name %></span>
            </p>
            <p class="swiper__card__distance">
              <i class="fa-solid fa-location-dot"></i><%#= " #{Geocode.haversine_distance(current_user, user).round} km" %>
            </p>
          </div>

          </div>
          <div class="swiper__card__choice m--reject"></div>
          <div class="swiper__card__choice m--like"></div>
          <div class="swiper__card__drag"></div>
        </div>

      <% end %>
    </div>
  </div>
  <div class="modal fade" data-swipe-target="modal" id="successModal" tabindex="-1" aria-labelledby="successModalLabel" aria-hidden="">
    <div class="modal-dialog success-modal-dialog"> <div class="modal-content success-modal-content">
      <div class="modal-body success-modal-body" data-swipe-target="modalBody">
        <%# Ici c'est la modale pour notifier que le match a eu lieu, voir controller stimulus %>
      </div> </div>
    </div>
  </div>
</div>
